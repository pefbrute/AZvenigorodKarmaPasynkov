# Инструкция по подготовке геоданных (полигонов) для проекта AZvenigorod

Этот документ предназначен для использования другой ИИ-моделью с целью генерации координат полигонов для районов Звенигорода.

## 1. Общая архитектура данных
Проект представляет собой Android-приложение (Kotlin, Compose). Все данные о местах (QuizItems) хранятся в базе данных Room, но инициализируются из JSON-файла:
`app/src/main/assets/zvenigorod_seed.json`

## 2. Структура объекта QuizItem
В JSON каждый объект в массиве `items` имеет следующие ключевые поля для геометрии:
- `id`: Уникальный идентификатор (например, `zvg_micro_suponevo`).
- `name`: Название на русском.
- `kind`: Тип объекта. Объекты с `kind: "district_anchor"` считаются районами и должны отображаться как полигоны.
- `lat`, `lon`: Координаты центральной точки (якоря).
- `answerRadiusM`: Приблизительный радиус района в метрах.
- **`geometryData`**: Строка, содержащая JSON-массив координат углов полигона в формате `[[lat,lon],[lat,lon],...]`.

## 3. Требования к формату geometryData
- Формат: Строка (String), представляющая собой валидный JSON-массив массивов.
- Каждая точка: `[latitude, longitude]` (числа с плавающей точкой).
- Полигон должен быть замкнутым (приложение само соединяет последнюю точку с первой).
- Важно: Координаты должны соответствовать реальным границам районов Звенигорода.

Пример заполненного поля:
`"geometryData": "[[55.743,36.858],[55.743,36.863],[55.738,36.863],[55.738,36.858]]"`

## 4. Список объектов для обработки (Районы)
Необходимо сгенерировать точные координаты границ для следующих ID (находятся в `zvenigorod_seed.json`):

1. `zvg_quarter_mayakovsky` (Квартал им. Маяковского) — *уже есть примерный прямоугольник, можно уточнить*.
2. `zvg_micro_suponevo` (Микрорайон Супонево).
3. `zvg_upper_posad` (Верхний Посад).
4. `zvg_micro_vostochny` (Микрорайон Восточный).

## 5. Как приложение использует эти данные
- При загрузке `DataSeeder` проверяет: если `kind == "district_anchor"` ИЛИ `geometryData` не пуста, объекту присваивается тип `POLYGON`.
- В режиме викторины `MapQuizScreen` парсит строку `geometryData` через `GeometryUtils` и отрисовывает полигон на карте через OSMDroid.
- Если `geometryData` пуста, но объект помечен как район, приложение рисует круг-заглушку на основе `lat`/`lon` и `answerRadiusM`.

## 6. Задача для ИИ
Найди реальные границы указанных районов Звенигорода (на основе OpenStreetMap или других картографических данных) и предоставь для каждого ID готовую строку для поля `geometryData`.
